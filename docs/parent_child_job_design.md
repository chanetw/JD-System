# üó∫Ô∏è Design: Parent-Child Jobs Structure (Plan A)

‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡πâ 1 ‡∏á‡∏≤‡∏ô (Job) ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏°‡∏µ‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó (Job Types) ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö **Parent-Child**

---

## 1. Concept: Parent & Child
‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÅ‡∏ö‡πà‡∏á‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô 2 ‡∏ä‡∏±‡πâ‡∏ô:

1.  **Parent Job (‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡πà‡∏≠‡∏¢/‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á):**
    - ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô "‡∏Å‡∏•‡πà‡∏≠‡∏á" ‡∏´‡∏£‡∏∑‡∏≠ "Folder" ‡∏ó‡∏µ‡πà‡∏£‡∏ß‡∏°‡∏á‡∏≤‡∏ô‡∏¢‡πà‡∏≠‡∏¢‡πÜ ‡πÑ‡∏ß‡πâ
    - ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á: Project, Requester, Brief ‡∏£‡∏ß‡∏°
    - **Status:** ‡∏à‡∏∞ Calculated ‡∏à‡∏≤‡∏Å Sub-jobs (‡πÄ‡∏ä‡πà‡∏ô ‡∏ñ‡πâ‡∏≤‡∏ó‡∏∏‡∏Å‡∏ä‡∏¥‡πâ‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à = Parent ‡πÄ‡∏™‡∏£‡πá‡∏à)

2.  **Child Job (‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á):**
    - ‡πÄ‡∏õ‡πá‡∏ô‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏à‡∏£‡∏¥‡∏á (Actionable Task)
    - ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏ **Job Type** ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô (‡πÄ‡∏ä‡πà‡∏ô Artwork, VDO)
    - ‡∏°‡∏µ **Assignee** (‡∏Ñ‡∏ô‡∏ó‡∏≥) ‡πÅ‡∏•‡∏∞ **Due Date** ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
    - **Status:** ‡∏≠‡∏¥‡∏™‡∏£‡∏∞‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô (‡πÄ‡∏ä‡πà‡∏ô Artwork ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ï‡πà VDO ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à)

---

## 2. Workflow Diagram

```mermaid
graph TD
    User[Requester / Sales] -->|1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô| CreatePage[‡∏´‡∏ô‡πâ‡∏≤ Create Job]
    
    subgraph "Create Process"
        CreatePage -->|‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏±‡∏Å| ParentData[Parent Info (Project, Brief)]
        CreatePage -->|‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Job Type 1| Child1_Data[Job: Key Visual]
        CreatePage -->|‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Job Type 2| Child2_Data[Job: Video Clip]
    end

    ParentData -->|Save| DB_Parent[Database: Parent Job]
    
    Child1_Data -->|Link| DB_Parent
    Child2_Data -->|Link| DB_Parent

    subgraph "Execution Process"
        DB_Parent -->|Auto Assign| Assignee1[Graphic A (‡∏ó‡∏≥ KV)]
        DB_Parent -->|Auto Assign| Assignee2[Editor B (‡∏ó‡∏≥ Video)]
        
        Assignee1 -->|Submit| Review1[Reviewer]
        Assignee2 -->|Submit| Review2[Reviewer]
        
        Review1 -->|Approve| Done1[Child 1: Done]
        Review2 -->|Approve| Done2[Child 2: Done]
    end

    Done1 & Done2 -->|All Done| ParentDone[Parent Job: Completed]
```

---

## 3. ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå (Use Case)

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå:** ‡∏Ñ‡∏∏‡∏ì Chanetw (Sales) ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏á‡∏≤‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå **"Sena Grand Opening"**

### Step 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á Parent Job
- **Project:** Sena Park Grand
- **Subject:** Grand Opening Event 2024
- **Brief:** "‡∏ò‡∏µ‡∏°‡∏á‡∏≤‡∏ô‡∏™‡∏µ‡∏ó‡∏≠‡∏á-‡∏î‡∏≥ ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏´‡∏£‡∏π ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ß‡∏±‡∏ô‡∏á‡∏≤‡∏ô"

### Step 2: ‡πÄ‡∏û‡∏¥‡πà‡∏° Child Jobs
| ‡∏•‡∏≥‡∏î‡∏±‡∏ö | ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô (Job Type) | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î | ‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö (System Auto-assign) | SLA |
| :--- | :--- | :--- | :--- | :--- |
| **1** | **Key Visual (KV)** | "‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ä‡πâ‡∏ï‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£" | **Graphic A** (‡∏ñ‡∏ô‡∏±‡∏î‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡πà‡∏á) | 3 ‡∏ß‡∏±‡∏ô |
| **2** | **Short Video** | "‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ Reals 15 ‡∏ß‡∏¥" | **Editor B** (‡∏ñ‡∏ô‡∏±‡∏î‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠) | 7 ‡∏ß‡∏±‡∏ô |

### Step 3: ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- **Graphic A** ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤ ‚Üí ‡πÄ‡∏´‡πá‡∏ô‡∏á‡∏≤‡∏ô **"KV - Grand Opening"** ‚Üí ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô
- **Editor B** ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤ ‚Üí ‡πÄ‡∏´‡πá‡∏ô‡∏á‡∏≤‡∏ô **"Video - Grand Opening"** ‚Üí ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô

### Step 4: ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
- ‡πÅ‡∏°‡πà‡∏Ç‡πà‡∏≤‡∏¢ (Parent Job) ‡∏à‡∏∞‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ó‡∏±‡πâ‡∏á KV ‡πÅ‡∏•‡∏∞ Video ‡∏ñ‡∏π‡∏Å‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß

---

## 4. ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á (Impact)

### üü¢ Database
- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå `parent_job_id` ‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á `jobs` (Self-referencing)
- ‡∏´‡∏£‡∏∑‡∏≠ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á `job_groups` ‡πÅ‡∏¢‡∏Å (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô)

### üü¢ Frontend (UI)
- **‡∏´‡∏ô‡πâ‡∏≤ Create:** ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å Dropdown ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Job Type ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß -> ‡πÄ‡∏õ‡πá‡∏ô List ‡πÉ‡∏´‡πâ‡∏Å‡∏î "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£" (Add Item)
- **‡∏´‡∏ô‡πâ‡∏≤ Dashboard:** ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏ö‡∏ö Grouping (‡∏Å‡∏î Expand ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏á‡∏≤‡∏ô‡∏¢‡πà‡∏≠‡∏¢)

### üü¢ Service
- Logic ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì SLA ‡∏Ç‡∏≠‡∏á Parent = Max(Child SLA)
- Logic ‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (Auto Completion)

---
