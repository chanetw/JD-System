# ระบบ DJ (Design Job System) - ข้อกำหนดฟังก์ชันการทำงาน

## ภาพรวม
ระบบจัดการงานออกแบบ (Design Job) สำหรับทีมการตลาด (Marketing) และทีมสร้างสรรค์ (Creative) พร้อมด้วยกระบวนการอนุมัติ (Workflow), การติดตาม SLA, และระบบแจ้งเตือน

---

## A) ผู้ใช้งานและบทบาทหลัก (Personas & Key Roles)

### 1. Marketing (ผู้ร้องขอ / Requester)
- เปิดใบงาน DJ (Design Job), แก้ไขรายละเอียดงาน (Brief), แนบไฟล์งาน
- ตอบแชท, ส่งเรื่องเพื่อขออนุมัติ, ยืนยันการส่งมอบงาน

### 2. Approver (หัวหน้างาน / ผู้จัดการ / ผู้บริหารหน่วยงาน)
- อนุมัติงาน / ตีกลับงาน (Reject) / ปรับเปลี่ยนผู้อนุมัติลำดับถัดไป

### 3. Assignee (กราฟิก / เว็บดีไซเนอร์ / ฝ่าย Workflow)
- รับงาน, ดูรายละเอียด Brief, สนทนาผ่านแชท
- ปฏิเสธการรับงาน (Reject) พร้อมระบุเหตุผล, ส่งมอบงานที่เสร็จแล้ว

### 4. Admin (ผู้ดูแลระบบ)
- จัดการประเภทงาน (Job Type) + ตั้งค่า SLA
- จัดการปฏิทินวันหยุด, ตั้งค่าลำดับการอนุมัติ (Approval flow)
- จัดการสิทธิ์การใช้งาน, ดูรายงานสรุป

---

## B) องค์ประกอบ UI ส่วนกลาง (Global UI Components)

### 1. แถบด้านบน (Top Bar)
- ช่องค้นหา (Search) ค้นหาด้วย DJ ID หรือ หัวข้อเรื่อง
- กระดิ่งแจ้งเตือน (พร้อมตัวเลขแสดงจำนวน)
- ปุ่มสลับบทบาท (Role switch) *สำหรับ Demo*
- เมนูโปรไฟล์ผู้ใช้

### 2. ป้ายสถานะ (Status Badges)
| สถานะ | คำอธิบาย |
|--------|-------------|
| Draft | แบบร่าง ยังไม่ได้กดส่ง |
| Scheduled | ตั้งเวลาส่งอัตโนมัติ (08:00 น. ของวันทำการถัดไป) |
| Submitted | ส่งเรื่องแล้ว รอการมอบหมายงาน |
| Pending Approval | รอการอนุมัติ |
| Approved | อนุมัติแล้ว พร้อมมอบหมายงาน |
| Assigned | มอบหมายงานให้ Designer แล้ว |
| In Progress | กำลังดำเนินการออกแบบ |
| Rework | ส่งกลับให้ Requester แก้ไข |
| Rejected | ถูกปฏิเสธคำขอ |
| Completed | งานเสร็จสมบูรณ์ |
| Closed/Deleted | ปิดงาน / ลบงาน |

### 3. วิดเจ็ต SLA (SLA Widget)
- แสดง "SLA: X วันทำการ"
- แสดง "วันที่ส่ง / วันกำหนดส่ง (Deadline) ที่คำนวณแล้ว"
- นับถอยหลัง (Countdown): "อีก 3 วัน / ครบกำหนดวันนี้ / เกินกำหนด"
- Tooltip อธิบายวิธีนับวันทำการ + การหักวันหยุดออก

### 4. แถบขวา: ไทม์ไลน์กิจกรรม (Right Panel: Activity Timeline)
- บันทึกประวัติ (Log): สร้างงาน, ส่งงาน, อนุมัติ, มอบหมาย, อัปโหลด, แก้ไข Brief, ปฏิเสธ, แชท
- ส่วนแสดงความคิดเห็น/แชท + การกล่าวถึงผู้ใช้ (@mention)

---

## C) หน้าจอต่างๆ (Screens)

### 1. แดชบอร์ด (Dashboard)
**วัตถุประสงค์:** แสดงภาพรวมงานของผู้ใช้ตามบทบาท + การแจ้งเตือน SLA

**การ์ด KPI:**
- งานใหม่วันนี้ (New Today)
- ครบกำหนดวันพรุ่งนี้ (Due Tomorrow)
- ครบกำหนดวันนี้ (Due Today)
- เกินกำหนด (Overdue)

**ตารางงานของฉัน (My Queue Table) - คอลัมน์:**
DJ ID | โปรเจกต์ | ประเภทงาน | หัวข้อ | สถานะ | กำหนดส่ง | SLA | ผู้รับผิดชอบ | อัปเดตล่าสุด | การกระทำ

### 2. สร้างใบงาน DJ (Create DJ - Job Submission)
**วัตถุประสงค์:** เปิดใบงานพร้อมตรวจสอบความครบถ้วน + ป้องกันการส่งนอกเวลา + จำกัดโควต้า

**ส่วนประกอบของฟอร์ม:**
- ส่วน A: ข้อมูลงาน (Project, BUD, Job Type, Subject, Priority)
- ส่วน B: รายละเอียดงาน (วัตถุประสงค์ >= 200 ตัวอักษร, หัวข้อหลัก, หัวข้อย่อย, จุดขาย, ราคา)
- ส่วน C: ไฟล์แนบ (บังคับตามประเภทงาน, ลิงก์อ้างอิง)
- ส่วน D: ตัวอย่าง SLA (วันที่ส่ง, ปฏิทินวันทำการ, วันกำหนดส่ง)
- ส่วน E: ลำดับการอนุมัติ (Stepper)

**กฎการตรวจสอบ (Validation Rules):**
- ช่วงเวลา 22:00-05:00 น. → บล็อกการส่ง
- วันหยุดเสาร์-อาทิตย์/นักขัตฤกษ์ → บล็อกการส่ง
- โควต้า > 10 งาน/โปรเจกต์/วัน → บล็อกการส่ง
- *หากถูกบล็อก* → แสดง Modal ให้เลือก "บันทึกเป็น Draft" หรือ "บันทึกและส่งอัตโนมัติ 08:00 วันทำการถัดไป"

### 3. รายการใบงาน (DJ List)
**วัตถุประสงค์:** ค้นหางาน + มุมมองตามบทบาท

**ตัวกรอง (Filters):**
- Project, BUD, Job Type, Status
- ช่วงวันที่ครบกำหนด, ช่วงวันที่สร้าง
- ผู้รับผิดชอบ, ความสำคัญ (Priority)
- "แสดงเฉพาะรายการที่ตั้งเวลาไว้ (Only scheduled)"

**คอลัมน์ในตาราง:**
DJ ID | โปรเจกต์ | ประเภทงาน | หัวข้อ | สถานะ | วันที่ส่ง | กำหนดส่ง | SLA | ผู้รับผิดชอบ | ขั้นตอนอนุมัติ | การกระทำ

### 4. รายละเอียดใบงาน (DJ Detail)
**วัตถุประสงค์:** ศูนย์กลางการทำงาน - ทุกฝ่ายทำงานบนหน้าจอนี้

**โครงร่าง (3 คอลัมน์):**
- ซ้าย: รายละเอียด Brief & ข้อมูลกำกับ (Metadata)
- กลาง: พื้นที่ทำงาน (Preview, ไฟล์ส่งมอบ, ปุ่มสั่งการ)
- ขวา: ไทม์ไลน์ + แชท

**ปุ่มดำเนินการตามบทบาท:**
- Marketing: แก้ไข Brief, ส่งงาน, ขอแก้ไขงาน, ปิดงาน
- Approver: อนุมัติ, ปฏิเสธ, ตีกลับให้แก้ไข, แก้ไขลำดับผู้อนุมัติ
- Assignee: รับงาน, ปฏิเสธ (พร้อมเหตุผล), อัปโหลด Draft, ส่งตรวจสอบ, อัปโหลด Final
- Admin: มอบหมาย/เปลี่ยนผู้รับผิดชอบ, เปลี่ยน Priority, แก้ไข SLA

### 5. คิวการอนุมัติ (Approvals Queue)
**วัตถุประสงค์:** เพื่อให้หัวหน้าอนุมัติงานได้รวดเร็ว

**แท็บ:**
- รอนุมัติ (Waiting Approval)
- ตีกลับ/ปฏิเสธ (Returned/Rejected)
- ประวัติ (History)

### 6. Admin: จัดการประเภทงาน & SLA (Job Type & SLA Management)
**วัตถุประสงค์:** ตั้งค่าประเภทงาน + SLA + เอกสารที่ต้องแนบ

**ฟิลด์ข้อมูล:**
- ชื่อประเภทงาน
- วันทำการ SLA
- คำอธิบาย SLA
- ประเภทไฟล์แนบที่จำเป็น

### 7. Admin: ปฏิทินวันหยุด (Holiday Calendar)
**วัตถุประสงค์:** เพิ่ม/แก้ไขวันหยุดนักขัตฤกษ์

**ฟีเจอร์:**
- มุมมองปฏิทิน + มุมมองรายการ
- เพิ่ม/แก้ไข/ลบ วันหยุด
- นำเข้าข้อมูล CSV

### 8. Admin: ตั้งค่าลำดับการอนุมัติ (Approval Flow Config)
**วัตถุประสงค์:** กำหนดเมทริกซ์การอนุมัติ

**ตัวสร้างกฎ (Rule Builder):**
- เงื่อนไข: job type, project, bud, priority
- ลำดับผู้อนุมัติ
- เปิด/ปิด การอนุญาตให้แก้ไข (Allow override toggle)
- ช่วงวันที่ที่มีผล

### 9. แดชบอร์ดรายงาน (Reports Dashboard)
**วัตถุประสงค์:** รายงานแยกตาม Project/BUD/บุคคล

**ตัวชี้วัด (Metrics):**
- จำนวนใบงานที่สร้างทั้งหมด
- อัตราส่วน ตรงเวลา vs ล่าช้า
- เวลาเฉลี่ยในการทำงานแต่ละประเภท
- อัตราการปฏิเสธ (Reject rate) + สาเหตุหลัก
- ภาระงานตามผู้รับผิดชอบ
- การใช้โควต้า

---

## D) ข้อมูลจำลอง (Mock Data)

### ประเภทงาน (6 ประเภท) (Job Types)
1. Online Artwork - 7 วันทำการ
2. Print Artwork - 10 วันทำการ
3. Video Production - 15 วันทำการ
4. Social Media Content - 3 วันทำการ
5. Website Banner - 5 วันทำการ
6. Event Material - 7 วันทำการ

### บันทึกใบงาน DJ (DJ Records)
มีข้อมูลตัวอย่าง 12+ รายการ รวมถึง 2 รายการสถานะ Scheduled (ส่งอัตโนมัติ 08:00)

---

## E) เทคโนโลยีที่ใช้ (Technical Stack)
- HTML5 + TailwindCSS (CDN)
- Sarabun Thai Font (Google Fonts)
- Heroicons (inline SVG)
- ธีมสี Rose/Pink
